<!DOCTYPE html>
<html>

  <head lang = "pt-br">
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <script src="jquery-3.1.1.min.js"></script>
    <script src="../lib/graph.js"></script>    
  </head>
  <body>
    <form>
      <table>
        <tr>
          <td>Arquivo:</td>
          <td><input type="file" accept='text/plain' id="files" name="files[]" /></td>
        </tr>
        <tr>
          <td>Tipo:</td>
          <td>
            <select id="type" name="type">
              <option value="0">Matriz de Adjacência</option>
              <option value="1">Lista de Adjacência</option>
            </select>
          </td>
        </tr>
      </table>
      <br>
      <input type="button" value="Carregar Grafo" onclick="loadGraph()" />

    </form>

    <output id="list"></output>

    <script>
      function handleFileSelect(evt)
      {
        var files = evt.target.files; // FileList object
        console.log(files);
        // files is a FileList of File objects. List some properties.
        var output = [];
        f = files[0];
        output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
                    f.size, ' bytes, última modificação: ',
                    f.lastModifiedDate.toLocaleDateString(), '</li>');
        document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
      }

      document.getElementById('files').addEventListener('change', handleFileSelect, false);

      var graph;

      function loadGraph()
      {
        graph = new Graph($('#files').prop('files')[0],$('#type').val())
      }
    </script>
  </body>
</html>
